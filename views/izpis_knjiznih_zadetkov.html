%rebase('osnova.html', naslov='Izpis knjig')
%# TODO: bug pri iskanju npr. besede Dear, Dawn, Cen... pri kakšnih dela ok. npr. Harry, Boo, Ring ...

<div class="row px-4">
    <!--%if len(knjige)%100 == 1:-->
    <!--ustreza {{len(knjige)}} knjiga.-->
    <!--%elif len(knjige)%100 == 2:-->
    <!--ustrezata {{len(knjige)}} knjigi.-->
    <!--%elif len(knjige)%100 in {3,4}:-->
    <!--ustrezajo {{len(knjige)}} knjige.-->
    <!--%else:-->
    <!--ustreza {{len(knjige)}} knjig.-->
    <!--%end-->
    %if len(knjige)%100 == 1:
    1 book matches
    %elif len(knjige)%100 > 2:
    {{len(knjige)}} books match
    %end
    your search.
    <br/>
    % if parametri is not None and parametri != []:
        % for parameter in parametri[:-1]:
            {{parameter}},
        %end
        {{parametri[-1]}}
    %end
    <br/>

</div>
% if len(knjige) > 10:
    <nav aria-label="Page navigation example">
      <ul class="pagination">
          %if stran != 1:
            <li class="page-item">
              <form action="/izpis_zadetkov/knjiga&{{int(stran)-1}}&{{poizvedba}}" method="GET">
                  <p><input type="submit" class="btn btn-link" value="<<">
                  </p>
              </form>
            </li>
          %end
          %for i in range(1, (len(knjige)-1)//10 + 2):
             <li class="page-item">
                 <form action="/izpis_zadetkov/knjiga&{{str(i)}}&{{poizvedba}}" method="GET">
                         <p><input type="submit" class="btn btn-link" value="{{i}}">
                         </p>
                 </form>
             </li>
          %end
          %if int(stran)*10 < len(knjige):
            <li class="page-item">
              <form action="/izpis_zadetkov/knjiga&{{int(stran)+1}}&{{poizvedba}}" method="GET">
                                    %print('ulala')
                  <p><input type="submit" class="btn btn-link" value=">>">
                  </p>
              </form>
            </li>
          %end
      </ul>
    </nav>
%end

%for knjiga in knjige[(int(stran)-1)*10 : int(stran)*10]:
    <div class="row px-4">
        <div class="col-2">
            <img src="{{knjiga['url_naslovnice']}}" align="center" class="img-thumbnail"/>
        </div>
        <div class="col">
            <div class="btn-group-vertical">
            <!--<br/>-->
                <form action="/knjiga/{{knjiga['id']}}" method="POST">
                    <b><input type="submit" class="btn btn-basic" value="{{knjiga['naslov']}}"></b>

                </form>
                %if knjiga['avtorji']!={None}:
                    %if len(knjiga['avtorji'])==1:
                        Avtor:
                    %end
                    %if len(knjiga['avtorji'])>1:
                        Avtorji:
                    %end
                    %for avtor in knjiga['avtorji']:
                        <form action="/avtor/{{avtor[0]}}" method="POST">
                             <p><input type="submit" class="btn btn-link" value="{{avtor[1]}}">
                            </p>
                        </form>
                    %end
                %end
                %if knjiga['zanri']!={None}:
                    Žanri:
                    <div class="btn-group">
                        %for zanr in knjiga['zanri']:
                            <form action="/zanr/{{zanr}}" method="POST">
                                <p><input type="submit" class="btn btn-link" value="{{zanr}}">
                                </p>
                            </form>

                        %end
                    </div>
                %end
            <!--<br/>-->
            </div>
        </div>
    </div>
    <hr />
%end

% if len(knjige) > 10:
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        %if stran != 1:
            <li class="page-item">
              <form action="/izpis_zadetkov/knjiga&{{int(stran)-1}}&{{poizvedba}}" method="GET">
                  <p><input type="submit" class="btn btn-link" value="<<">
                  </p>
              </form>
            </li>
          %end
          %for i in range(1, (len(knjige)-1)//10 + 2):
             <li class="page-item">
                 <form action="/izpis_zadetkov/knjiga&{{str(i)}}&{{poizvedba}}" method="GET">
                         <p><input type="submit" class="btn btn-link" value="{{i}}">
                         </p>
                 </form>
             </li>
          %end
          %if int(stran)*10 < len(knjige):
            <li class="page-item">
              <form action="/izpis_zadetkov/knjiga&{{int(stran)+1}}&{{poizvedba}}" method="GET">
                  <p><input type="submit" class="btn btn-link" value=">>">
                  </p>
              </form>
            </li>
          %end
      </ul>
    </nav>
%end